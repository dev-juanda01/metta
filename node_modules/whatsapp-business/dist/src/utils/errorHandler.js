"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WABAErrorHandler = void 0;
var types_1 = require("../types");
var WABAErrorHandler = function (error) {
    var err = error === null || error === void 0 ? void 0 : error.error;
    /**
     * If the err does not match the WABA schema return whatever error we got
     * All err responses from whatsapp should follow the DefaultWABAErrorAPI schema
     */
    if (!err)
        return Promise.reject(error);
    err.message = types_1.ERROR_CODES[err.code] || err.message;
    if (!err.error_subcode)
        err.error_subcode = NaN;
    if (!err.error_data)
        err.error_data = { details: "", messaging_product: "whatsapp" };
    return Promise.reject(err);
};
exports.WABAErrorHandler = WABAErrorHandler;
